# BCG矩阵生成器

[![Python >=3.11](https://img.shields.io/badge/python->=3.11-blue.svg)](https://www.python.org/downloads/)

这是一个Python项目，用于从产品销售数据生成BCG（波士顿咨询集团）矩阵可视化图表。BCG矩阵是一种商业工具，根据市场增长率（Y轴）和相对市场份额（X轴）在二维网格上绘制产品。

## 功能特性

- 处理包含产品信息的CSV数据（ID、名称、月销量、平均价格、毛利率）
- 计算单位利润和销售量指标
- 生成四个象限的BCG矩阵：
  * 明星产品（高利润×高销量）
  * 金牛产品（低利润×高销量）
  * 问题产品（高利润×低销量）
  * 瘦狗产品（低利润×低销量）
- 输出包含坐标和象限分类的处理数据
- 创建带有象限背景色的气泡图可视化

## 依赖项

- Python >= 3.11
- pandas：数据处理
- matplotlib：可视化
- numpy：数值计算

## 安装

推荐使用 [uv](https://github.com/astral-sh/uv) 来管理依赖：

```bash
# 安装依赖
uv sync
```

## 使用方法

```bash
# 运行BCG矩阵生成器
uv run python scripts/make_bcg.py --in data/bcg_raw.csv --out out
```

### 参数说明

- `--in`：输入的原始CSV文件路径（必须包含：月销量/平均价格/毛利率）
- `--out`：输出目录（默认为"out"）

### 输入数据格式

CSV文件应包含以下列：
- 商品ID：产品的唯一标识符
- 商品名：产品的名称
- 月销量：产品的月销售数量
- 平均价格：产品的平均销售价格
- 毛利率：产品的毛利率（0-1之间的数值）

示例：
```csv
商品ID,商品名,月销量,平均价格,毛利率
P0001,数据线（1m）,32000,9,0.08
P0002,抽纸10包装,22000,12,0.10
```

### 输出结果

脚本将生成两个文件：
1. `bcg_with_indices.csv`：包含坐标和象限分类的处理后数据
2. `bcg_plot.png`：BCG矩阵可视化图表

## 项目结构

```
.
├── data/
│   └── bcg_raw.csv          # 示例输入数据
├── out/                     # 输出目录
├── scripts/
│   └── make_bcg.py          # BCG矩阵生成脚本
├── main.py                  # 项目入口点
├── pyproject.toml           # 项目配置和依赖
├── uv.lock                  # 依赖锁定文件
└── README.md                # 项目说明文件
```

## 象限解释

- **明星产品（高利润×高销量）**：绿色象限，表示高增长和高市场份额的产品，需要大量投资以维持领先地位
- **金牛产品（低利润×高销量）**：蓝色象限，表示低增长但高市场份额的产品，产生大量现金流
- **问题产品（高利润×低销量）**：橙色象限，表示高增长但低市场份额的产品，需要仔细分析是否值得投资
- **瘦狗产品（低利润×低销量）**：红色象限，表示低增长和低市场份额的产品，通常考虑撤资

## 开发

### 代码结构

- `scripts/make_bcg.py`：核心功能脚本
- `main.py`：项目入口点

### 运行开发版本

```bash
uv run python scripts/make_bcg.py --in data/bcg_raw.csv --out out
```

## 许可证

本项目采用MIT许可证 - 查看[LICENSE](LICENSE)文件了解详情